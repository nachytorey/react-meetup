{"version":3,"sources":["app/constants/actions.js","app/selectors/meetups.js","app/selectors/usuarios.js","app/actions/api.js","app/actions/toast.js","app/actions/ui.js","app/selectors/cities.js","app/selectors/weather.js","app/component/MeetupAdd.js","app/actions/meetup.js","app/actions/weather.js","app/auth.js","app/component/MeetupDashboard.js","app/constants/ui.js","app/selectors/ui.js","app/component/NavBar.js","app/actions/usuarios.js","app/component/BlockScreen.js","app/selectors/toast.js","app/component/Toaster/index.js","app/component/Login/index.js","app/component/LoadingPageIndicator.js","App.js","app/actions/app.js","app/actions/cities.js","app/reducers/ui.js","app/reducers/toast.js","app/reducers/meetup.js","app/reducers/usuarios.js","app/reducers/weather.js","app/reducers/cities.js","app/reducers/root.js","app/middleware/index.js","app/middleware/core/multi.js","app/middleware/core/api.js","app/store.js","app/theme.js","i18n.js","index.js"],"names":["type","API","makeComponentActionTypes","name","MOUNTED","RENDERED","UMOUNTED","UI","TOAST","CHANGE_THEME","ADD_MEETUP","DELETE_MEETUP","SUBSCRIBE_MEETUP","IWAS_THERE_MEETUP","FETCH_USUARIOS","FETCH_CITIES","LOGIN","LOGIN_FAIL","LOGOUT","LOAD_MEETUPS","APP_COMPONENT","GET_WEATHER","REQUEST","PENDING","SUCCESS","ERROR","getMeetupSlice","state","meetup","getMeetups","getUsuariosSlice","usuarios","getIsLoggedIn","undefined","Boolean","username","getUserName","getUserRol","rol","getUser","api","url","pending","success","error","meta","payload","method","createToast","message","timeout","unBlockUI","getCitiesSlice","cities","getCities","byId","getWeather","weather","getWeatherSlice","mapDispatchToProps","addMeetup","loadMeetups","meetups","getWeatheCity","city","lat","lon","connect","t","useTranslation","classes","makeStyles","theme","button","margin","spacing","useStyles","useEffect","clearMeetup","moment","require","React","useState","open","setOpen","dias","id","add","format","subtract","selectedUsers","setSelectedUsers","selectedDay","setSelectedDay","fecha","countPerson","countSixPacks","users","usersAttended","temp","setMeetup","errors","setErrors","validateMeetup","validation","length","handleCloseModalAddMeetup","Container","Button","variant","color","onClick","className","Dialog","onClose","maxWidth","DialogTitle","DialogContent","onSubmit","e","preventDefault","Grid","container","item","sm","FormControl","style","marginTop","fullWidth","TextField","label","value","onChange","event","target","helperText","Autocomplete","multiple","options","disableCloseOnSelect","getOptionLabel","option","renderOption","selected","Fragment","Checkbox","marginRight","checked","_","newValue","renderInput","params","placeholder","InputLabel","Select","find","handleChangeSelectCity","map","MenuItem","FormHelperText","disabled","Math","trunc","daily","day","handleChangeSelectDay","d","Object","keys","result","porPersona","ceil","DialogActions","m","hasRole","user","roles","some","role","includes","deleteMeetup","subscribeMeetup","meetupId","iWasThereMeetup","card","grid","divider","chip","Divider","xs","md","xl","Card","CardActionArea","CardContent","Typography","gutterBottom","component","display","u","Chip","CardActions","size","filter","THEME","getUiSlice","ui","getTheme","getIsUiBlocked","blocking","root","flexGrow","marginBottom","menuButton","toolbarButtons","marginLeft","tittle","minWidth","icon","changeTheme","logout","i18n","anchorEl","setAnchorEl","handleChangeLanguage","lang","changeLanguage","AppBar","position","Toolbar","IconButton","evt","currentTarget","Menu","TransitionComponent","Fade","anchorOrigin","vertical","horizontal","transformOrigin","ListItem","ListItemText","Switch","backdrop","zIndex","BlockScreen","isBlocked","Backdrop","CircularProgress","getToastsSlice","toast","getToastMessage","msgs","messages","deleteToast","isOpen","setIsOpen","Snackbar","autoHideDuration","onExited","paper","flexDirection","alignItems","avatar","backgroundColor","palette","secondary","main","form","width","submit","drawer","login","usu","setUser","loginUser","validate","Avatar","noValidate","autoFocus","onKeyDown","key","element","document","createElement","body","appendChild","top","left","createPortal","LinearProgress","mountedApp","isLoggedIn","fallback","LoadingPageIndicator","initialState","requests","_id","toastsReducer","action","newById","index","findIndex","Date","now","push","isFetching","token","rights","isLoggingIn","rootReducer","combineReducers","usuarioReducer","meetupReducer","weatherReducer","citiesReducer","next","err","console","log","dispatch","Array","isArray","forEach","i","data","actions","headers","JSON","stringify","fetch","then","response","json","time","catch","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","createStore","reducers","applyMiddleware","middleware","themeGenerator","createMuiTheme","primary","lightBlue","overrides","MuiCssBaseline","p","textTransform","use","initReactI18next","httpBackend","init","ns","defaultNS","lng","backend","loadPath","interpolation","escapeValue","ThemedApp","generatedTheme","I18nextProvider","ThemeProvider","utils","DateFnsUtils","CssBaseline","ReactDOM","render","store","getElementById"],"mappings":"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","file":"static/js/main.501e8b4f.chunk.js","sourcesContent":["export const API = {\n  START: \"API_START\", DONE: \"API_DONE\", ERROR: \"API_ERROR\",\n};\n\nconst makeAsyncActionTypes = (type) => ({\n  REQUEST: `${type}`,\n  PENDING: `${type}_PENDING`,\n  SUCCESS: `${type}_SUCCESS`,\n  ERROR: `${type}_ERROR`,\n});\n\nconst makeComponentActionTypes = (name) => ({\n  MOUNTED: `${name}_MOUNTED`,\n  RENDERED: `${name}_RENDERED`,\n  UMOUNTED: `${name}_UMOUNTED`,\n});\n\nexport const UI = { BLOCK: \"BLOCK_UI\", UNBLOCK: \"UNBLOCK_UI\", };\n\nexport const TOAST = { CREATE: \"CREATE_TOAST\", DELETE: \"DELETE_TOAST\", };\nexport const CHANGE_THEME = \"CHANGE_THEME\";\nexport const FETCH_MEETUPS = \"FETCH_MEETUPS\";\nexport const ADD_MEETUP = \"ADD_MEETUP\";\nexport const DELETE_MEETUP = \"DELETE_MEETUP\";\nexport const SUBSCRIBE_MEETUP = \"SUBSCRIBE_MEETUP\";\nexport const IWAS_THERE_MEETUP = \"IWAS_THERE_MEETUP\";\nexport const FETCH_USUARIOS = \"FETCH_USUARIOS\";\nexport const FETCH_CITIES = \"FETCH_CITIES\"\nexport const LOGIN = \"LOGIN\";\nexport const LOGIN_FAIL = \"LOGIN_FAIL\";\nexport const LOGOUT = \"LOGOUT\";\nexport const LOAD_MEETUPS = \"LOAD_MEETUPS\";\n\n// Component\nexport const APP_COMPONENT = makeComponentActionTypes(\"APP_COMPONENT\");\nexport const MEETUP_DASHBOARD_COMPONENT = makeComponentActionTypes(\"MEETUP_DASHBOARD_COMPONENT\");\n\n// Async \nexport const GET_WEATHER = makeAsyncActionTypes(\"GET_WEATHER\");\n\n","const getMeetupSlice = state => state.meetup;\nexport const getMeetups = state => getMeetupSlice(state);\nexport const getMeetupsById = state => getMeetupSlice(state).byId;","// export const getUsuariosSlice = state => state.usuarios;\n// export const getUsuarios = state => getUsuariosSlice(state).byId;\n// export const getIsLoggedIn = state => Boolean(getUsuariosSlice(state).username);\n// export const getIsAttemptingLogin = state => getUsuariosSlice(state).isLoggingIn;\n// export const getUserName = state => getUsuariosSlice(state).username;\n// export const getUserRol = state => getUsuariosSlice(state).rol;\n\n// export const getUsuariosByIdName = (state) => Object.values(getUsuariosSlice(state).byId)\n//     .map(({ id, username }) => ({\n//         id: id,\n//         name: username\n//     })\n// ); \n\nexport const getUsuariosSlice = state => state.usuarios;\nexport const getUsuarios = state => getUsuariosSlice(state).byId;\nexport const getIsLoggedIn = state => (getUsuariosSlice(state) == undefined) ? false : Boolean(getUsuariosSlice(state).username);\nexport const getIsAttemptingLogin = state => (getUsuariosSlice(state) == undefined) ? false : getUsuariosSlice(state).isLoggingIn;\nexport const getUserName = state => (getUsuariosSlice(state) === undefined) ? \"\" : getUsuariosSlice(state).username;\nexport const getUserRol = state => (getUsuariosSlice(state) === undefined) ? \"\" : getUsuariosSlice(state).rol;\nexport const getUser = state => (getUsuariosSlice(state) === undefined) ? \"\" : getUsuariosSlice(state);\n","import { API } from '../constants/actions';\n\nexport const api = {\n    get: (url, pending, success, error, meta = {}) =>\n        ({ type: API.START, payload: { url, method: \"GET\", pending, success, error }, meta: { api: meta } }),\n    post: (url, data, pending, success, error, meta = {}) =>\n        ({ type: API.START, payload: { url, method: \"POST\", data, pending, success, error }, meta: { api: meta } }),\n    put: (url, data, pending, success, error, meta = {}) =>\n        ({ type: API.START, payload: { url, method: \"PUT\", data, pending, success, error }, meta: { api: meta } }),\n    delete: (url, data, pending, success, error, meta = {}) =>\n        ({ type: API.START, payload: { url, method: \"DELETE\", data, pending, success, error }, meta: { api: meta } })\n};","import { TOAST } from '../constants/actions';\n\nexport const createToast = (message) => {\n    return {\n        type: TOAST.CREATE,\n        payload: {\n            message: message,\n            timeout: 2000,\n            type: \"warning\"\n        }\n    }\n};\n\nexport const deleteToast = id => ({\n    type: TOAST.DELETE,\n    payload: id\n});","import { CHANGE_THEME, UI } from '../constants/actions';\n\nexport const changeTheme = (theme) => ({\n  type: CHANGE_THEME,\n  payload: { theme },\n});\n\nexport const blockUI = () => ({\n  type: UI.BLOCK,\n});\n\nexport const unBlockUI = () => ({\n  type: UI.UNBLOCK,\n});\n","// const getCitiesSlice = state => state.cities;\n// export const getCities = state => getCitiesSlice(state).byId;\n\nconst getCitiesSlice = state => state.cities;\nexport const getCities = state => (getCitiesSlice(state) === undefined) ? [] : getCitiesSlice(state).byId;\n","\nconst getWeatherSlice = state => state.weather;\nexport const getWeather = state => getWeatherSlice(state);","import React, { useEffect } from 'react';\r\nimport { connect } from \"react-redux\";\r\nimport Container from '@material-ui/core/Container';\r\nimport Card from '@material-ui/core/Card';\r\nimport Checkbox from '@material-ui/core/Checkbox';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport { Button, Grid, Typography } from '@material-ui/core';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\nimport InputLabel from '@material-ui/core/InputLabel';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport FormHelperText from '@material-ui/core/FormHelperText';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport Select from '@material-ui/core/Select';\r\nimport Autocomplete from '@material-ui/lab/Autocomplete';\r\nimport { useTranslation } from 'react-i18next';\r\n\r\n//actions\r\nimport {\r\n    addMeetup, loadMeetups\r\n} from '../actions/meetup';\r\nimport { getWeatheCity } from '../actions/weather';\r\n\r\n//selectors\r\nimport { getMeetups } from '../selectors/meetups';\r\nimport { getUsuariosSlice } from '../selectors/usuarios';\r\nimport { getCities } from '../selectors/cities';\r\nimport { getWeather } from '../selectors/weather';\r\n\r\nconst MeetupAdd = ({\r\n    meetups,\r\n    usuarios,\r\n    cities,\r\n    weather,\r\n    addMeetup,\r\n    loadMeetups,\r\n    getWeatheCity\r\n}) => {\r\n\r\n    const { t } = useTranslation();\r\n\r\n    const useStyles = makeStyles((theme) => ({\r\n        button: {\r\n            margin: theme.spacing(1)\r\n        }\r\n    }));\r\n\r\n    const classes = useStyles();\r\n\r\n    useEffect(() => {\r\n        clearMeetup();\r\n    }, [meetups]);\r\n\r\n    const moment = require('moment');\r\n    const [open, setOpen] = React.useState(false);\r\n\r\n    const dias = [\r\n        { id: 2, name: moment().add(1, 'day').format(\"DD/MM/YYYY\") },\r\n        { id: 3, name: moment().add(2, 'day').format(\"DD/MM/YYYY\") },\r\n        { id: 4, name: moment().add(3, 'day').format(\"DD/MM/YYYY\") },\r\n        { id: 5, name: moment().add(4, 'day').format(\"DD/MM/YYYY\") },\r\n        { id: 6, name: moment().add(5, 'day').format(\"DD/MM/YYYY\") },\r\n        { id: 7, name: moment().subtract(5, 'day').format(\"DD/MM/YYYY\") },\r\n    ];\r\n\r\n    const [selectedUsers, setSelectedUsers] = React.useState([]);\r\n    const [selectedDay, setSelectedDay] = React.useState(-1);\r\n    const [selectedCity, setSelectedCity] = React.useState(-1);\r\n\r\n    const [meetup, setMeetup] = React.useState({\r\n        name: \"\",\r\n        fecha: \"\",\r\n        countPerson: \"\",\r\n        countSixPacks: \"\",\r\n        users: [],\r\n        usersAttended: [],\r\n        temp: \"\",\r\n        city: \"\"\r\n    });\r\n\r\n    const [errors, setErrors] = React.useState({\r\n        name: \"\",\r\n        fecha: \"\",\r\n        countPerson: \"\",\r\n        countSixPacks: \"\",\r\n        users: [],\r\n        temp: \"\",\r\n        city: \"\"\r\n    });\r\n\r\n    const handleAddMeetup = () => {\r\n\r\n        let validation = validateMeetup();\r\n\r\n        if (Object.keys(validation).length === 0) {\r\n            const m = {\r\n                ...meetup,\r\n                users: selectedUsers,\r\n                usersAttended: [],\r\n                temp: (weather.daily === undefined) ? \"\" : Math.trunc(weather.daily[selectedDay].temp.day)\r\n            }\r\n            addMeetup(m);\r\n            handleCloseModalAddMeetup();\r\n        }\r\n\r\n        setErrors(validation);\r\n\r\n    };\r\n\r\n    const clearMeetup = () => {\r\n        setSelectedUsers([]);\r\n        setSelectedDay(0);\r\n        setMeetup({\r\n            name: \"\",\r\n            fecha: \"\",\r\n            countPerson: \"\",\r\n            countSixPacks: \"\",\r\n            users: [],\r\n            usersAttended: [],\r\n            temp: \"\"\r\n        });\r\n        setErrors({\r\n            name: \"\",\r\n            fecha: \"\",\r\n            countPerson: \"\",\r\n            countSixPacks: \"\",\r\n            users: [],\r\n            usersAttended: [],\r\n            temp: \"\"\r\n        });\r\n    };\r\n\r\n    const validateMeetup = () => {\r\n\r\n        const validation = {};\r\n        if (meetup.name === undefined || meetup.name.length < 1) {\r\n            validation.name = \"Requerido\";\r\n        }\r\n\r\n        if (meetup.fecha === undefined || meetup.fecha.length < 1) {\r\n            validation.fecha = \"Requerido\";\r\n        }\r\n\r\n        if (meetup.city === undefined || meetup.city.length < 1) {\r\n            validation.city = \"Requerido\";\r\n        }\r\n\r\n        if (meetup.countPerson === undefined || meetup.countPerson.length < 1) {\r\n            validation.countPerson = \"Requerido\";\r\n        }\r\n\r\n        return validation\r\n    }\r\n\r\n    const handleOpenModalAddMeetup = () => {\r\n        clearMeetup();\r\n        setOpen(true);\r\n    };\r\n\r\n    const handleCloseModalAddMeetup = () => {\r\n        setOpen(false);\r\n    };\r\n\r\n    const handleClickCalculateBeer = () => {\r\n\r\n        const existWeather = Object.keys(weather).length;\r\n        const existSelectedDay = selectedDay;\r\n\r\n        if (existWeather != 0 && existSelectedDay > 0) {\r\n\r\n            const countPerson = meetup.countPerson;\r\n            const temp = Math.trunc(weather.daily[selectedDay].temp?.day);\r\n\r\n            let result = 0;\r\n            let porPersona = 0;\r\n\r\n            if (temp > 20 && temp < 24) {\r\n                porPersona = 1;\r\n            } else if (temp < 20) {\r\n                porPersona = 0.75;\r\n            } else if (temp > 24) {\r\n                porPersona = 2;\r\n            }\r\n\r\n            result = Math.ceil((porPersona * countPerson) / 6)\r\n\r\n            setMeetup({ ...meetup, countSixPacks: result });\r\n        }\r\n        else\r\n            setMeetup({ ...meetup, countSixPacks: \"\" });\r\n\r\n    };\r\n\r\n    const handleChangeSelectDay = (value) => {\r\n\r\n        const fecha = moment().add(value, 'day').format(\"DD/MM/YYYY\");\r\n        const temp = Math.trunc(weather.daily[value].temp?.day);\r\n\r\n        setSelectedDay(value);\r\n        setMeetup({\r\n            ...meetup,\r\n            fecha: fecha,\r\n            temp: temp,\r\n        });\r\n\r\n    };\r\n\r\n    const handleChangeSelectCity = (value) => {\r\n        const city = cities.find(city => city.id == value);\r\n        setMeetup({\r\n            ...meetup,\r\n            city: city.name,\r\n            countSixPacks: \"\"\r\n        });\r\n        getWeatheCity({ lat: city.lat, lon: city.lon, id: city, name: city.name });\r\n    };\r\n\r\n    return <>\r\n        <Container>\r\n            <Button variant=\"outlined\" color=\"primary\" onClick={handleOpenModalAddMeetup} className={classes.button}>\r\n                {t(\"Add meetup\")}\r\n            </Button>\r\n            <Dialog open={open} onClose={handleCloseModalAddMeetup} maxWidth=\"sm\">\r\n                <DialogTitle>{t(\"Add meetup\")}</DialogTitle>\r\n                <DialogContent>\r\n                    <form onSubmit={e => e.preventDefault()}>\r\n                        <Grid container spacing={2}>\r\n                            <Grid item sm={6}>\r\n                                <FormControl\r\n                                    style={{ marginTop: 0 }}\r\n                                    error={Boolean(errors.name) ? true : false}\r\n                                    fullWidth>\r\n                                    <TextField\r\n                                        label={t(\"Name\")}\r\n                                        fullWidth\r\n                                        value={meetup.name}\r\n                                        onChange={event => setMeetup({ ...meetup, \"name\": event.target.value })}\r\n                                        error={Boolean(errors.name)}\r\n                                        helperText={errors.name}\r\n                                    />\r\n                                </FormControl>\r\n                            </Grid>\r\n                            <Grid item sm={6}>\r\n                                <Autocomplete\r\n                                    multiple\r\n                                    fullWidth\r\n                                    value={selectedUsers}\r\n                                    options={(usuarios === undefined) ? [] : usuarios.byId}\r\n                                    disableCloseOnSelect\r\n                                    getOptionLabel={(option) => option.username}\r\n                                    renderOption={(option, { selected }) => (\r\n                                        <React.Fragment>\r\n                                            <Checkbox\r\n                                                style={{ marginRight: 8 }}\r\n                                                checked={selected}\r\n                                            />\r\n                                            {option.username}\r\n                                        </React.Fragment>\r\n                                    )}\r\n                                    onChange={(_, newValue) => setSelectedUsers(newValue === undefined ? [] : newValue)}\r\n                                    renderInput={(params) => (\r\n                                        <TextField {...params}\r\n                                            variant=\"outlined\" label={t(\"Guests\")} placeholder=\"\" />\r\n                                    )} />\r\n                            </Grid>\r\n                            <Grid item sm={12}>\r\n                                <TextField\r\n                                    label={t(\"People count\")}\r\n                                    fullWidth\r\n                                    type=\"number\"\r\n                                    value={meetup.countPerson}\r\n                                    onChange={event => setMeetup({ ...meetup, countPerson: event.target.value })}\r\n                                    error={Boolean(errors.countPerson)}\r\n                                    helperText={errors.countPerson}\r\n                                />\r\n                            </Grid>\r\n                            <Grid item sm={4}>\r\n                                <FormControl\r\n                                    style={{ marginTop: 0 }}\r\n                                    error={Boolean(errors.city) ? true : false}\r\n                                    fullWidth>\r\n                                    <InputLabel>{t(\"City\")}</InputLabel>\r\n                                    <Select\r\n                                        label={t(\"City\")}\r\n                                        fullWidth\r\n                                        name='city'\r\n                                        value={meetup.city}\r\n                                        options={cities}\r\n                                        onChange={event => handleChangeSelectCity(event.target.value)}\r\n                                        error={Boolean(errors.city)}\r\n                                        helperText={errors.city}>\r\n                                        {\r\n                                            cities.map(city =>\r\n                                                <MenuItem value={city.id} key={city.id}>{city.name}</MenuItem>)\r\n                                        }\r\n                                    </Select>\r\n                                    <FormHelperText>{errors.city}</FormHelperText>\r\n                                </FormControl>\r\n                            </Grid>\r\n                            <Grid item sm={4}>\r\n                                <FormControl\r\n                                    error={Boolean(errors.fecha) ? true : false}\r\n                                    fullWidth>\r\n                                    <InputLabel>{t(\"Date\")}</InputLabel>\r\n                                    <Select\r\n                                        fullWidth\r\n                                        disabled={!Boolean(meetup.city)}\r\n                                        onChange={event => handleChangeSelectDay(event.target.value)}\r\n                                        error={Boolean(errors.fecha)}\r\n                                        helperText={errors.fecha}>\r\n                                        {\r\n                                            dias.map(d =>\r\n                                                <MenuItem value={d.id} key={d.id}>{d.name}</MenuItem>)\r\n                                        }\r\n                                    </Select>\r\n                                    <FormHelperText>{errors.fecha || \" \"}</FormHelperText>\r\n                                </FormControl>\r\n                            </Grid>\r\n                            <Grid item sm={4}>\r\n                                <TextField\r\n                                    fullWidth\r\n                                    name='temp'\r\n                                    label={t(\"Temperature\")}\r\n                                    disabled\r\n                                    value={meetup.temp}\r\n                                    error={false}\r\n                                    helperText={\"\"}\r\n                                />\r\n                            </Grid>\r\n                            <Grid item sm={12}>\r\n                                <Button onClick={handleClickCalculateBeer} color=\"secondary\" fullWidth variant=\"contained\">\r\n                                    {t(\"Calculate beer count\")}</Button>\r\n                            </Grid>\r\n                            <Grid item sm={12}>\r\n                                <TextField\r\n                                    disabled\r\n                                    fullWidth\r\n                                    label={t(\"Sixpack beer count\")}\r\n                                    name='countSixPacks'\r\n                                    value={meetup.countSixPacks}\r\n                                />\r\n                            </Grid>\r\n                        </Grid>\r\n                    </form>\r\n                </DialogContent>\r\n                <DialogActions>\r\n                    <Button color=\"primary\" onClick={handleCloseModalAddMeetup} >\r\n                        {t(\"Cancel\")}\r\n                    </Button>\r\n                    <Button color=\"primary\" onClick={handleAddMeetup} >\r\n                        {t(\"Ok\")}\r\n                    </Button>\r\n                </DialogActions>\r\n            </Dialog>\r\n        </Container>\r\n    </>\r\n};\r\n\r\nconst mapStateToProps = state => ({\r\n    meetups: getMeetups(state),\r\n    cities: getCities(state),\r\n    usuarios: getUsuariosSlice(state),\r\n    weather: getWeather(state)\r\n});\r\n\r\nconst mapDispatchToProps = {\r\n    addMeetup,\r\n    loadMeetups,\r\n    getWeatheCity\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(MeetupAdd)","import {\n    DELETE_MEETUP,\n    ADD_MEETUP,\n    SUBSCRIBE_MEETUP,\n    IWAS_THERE_MEETUP,\n    LOAD_MEETUPS\n} from '../constants/actions';\nimport meetups from '../mocks/resources/meetups.json';\n\nexport const addMeetup = (meetup) => {\n    return {\n        type: ADD_MEETUP, payload: meetup\n    }\n};\n\nexport const deleteMeetup = (meetup) => ({\n    type: DELETE_MEETUP,\n    payload: { meetup }\n});\n\nexport const subscribeMeetup = (meetupId, username) => {\n    return {\n        type: SUBSCRIBE_MEETUP,\n        payload: { meetupId, username }\n    }\n};\n\nexport const iWasThereMeetup = (meetupId, username) => {\n    return {\n        type: IWAS_THERE_MEETUP,\n        payload: { meetupId, username }\n    }\n};\n\nexport const loadMeetups = () => {\n    return {\n        type: LOAD_MEETUPS, payload: meetups\n    }\n};\n","import { api } from './api'\nimport { GET_WEATHER } from '../constants/actions';\nimport { createToast } from './toast';\nimport { blockUI, unBlockUI } from './ui';\n\nexport const getWeatheCity = (city) => {\n    return api.get(\n        `https://cors-anywhere.herokuapp.com/https://api.openweathermap.org/data/2.5/onecall?lat=${city.lat}&lon=${city.lon}&exclude=current,minutely,hourly,alerts&units=metric&appid=de35df86f22d1843233d0c35a0de233b`,\n        //`https://cors-anywhere.herokuapp.com/https://api.openweathermap.org/data/2.5/onecall?lat=${city.lat}&lon=${city.lon}&exclude=current,minutely,hourly,alerts&units=metric&appid=de35df86f22d1843233d0c35a0de233b`,\n        [GET_WEATHER.PENDING, blockUI()],\n        [GET_WEATHER.SUCCESS, unBlockUI()],\n        [GET_WEATHER.ERROR, unBlockUI(), createToast(\"Error al consumir la api https://api.openweathermap.org. Verifique su conexiÃ³n de internet\")],\n        city\n    )\n};\n\n","export const isAuthenticated = user => !!user;\r\n\r\nexport const isAllowed = (user, rights) =>\r\n  rights.some(right => user.rights.includes(right));\r\n\r\nexport const hasRole = (user, roles) =>\r\n  roles.some(role => user.roles.includes(role));","import React, { useEffect } from 'react';\nimport { connect } from \"react-redux\";\nimport Container from '@material-ui/core/Container';\nimport Card from '@material-ui/core/Card';\nimport CardActionArea from '@material-ui/core/CardActionArea';\nimport CardContent from '@material-ui/core/CardContent';\nimport CardActions from '@material-ui/core/CardActions';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { Button, Grid, Typography } from '@material-ui/core';\nimport Chip from '@material-ui/core/Chip';\nimport Divider from '@material-ui/core/Divider'\nimport { useTranslation } from 'react-i18next';\nimport { deleteMeetup, subscribeMeetup, iWasThereMeetup } from '../actions/meetup';\nimport { getMeetups } from '../selectors/meetups';\nimport { getUser } from '../selectors/usuarios';\nimport MeetupAdd from './MeetupAdd';\nimport { hasRole, isAllowed } from '../auth';\n\nconst MeetupDashboard = ({\n    meetups,\n    user,\n    deleteMeetup,\n    subscribeMeetup,\n    iWasThereMeetup\n}) => {\n\n    const { t } = useTranslation();\n    const useStyles = makeStyles((theme) => ({\n        card: {\n            maxWidth: 600\n        },\n        grid: {\n        },\n        divider: {\n            margin: theme.spacing(1),\n        },\n        chip: {\n            margin: theme.spacing(1),\n        }\n    }));\n\n    const classes = useStyles();\n\n    useEffect(() => {\n    }, [meetups]);\n \n    return <>\n        <Container>\n            {hasRole(user, ['admin']) && <><MeetupAdd /><Divider className={classes.divider} /></>}\n            <Grid container spacing={2} className={classes.grid}>\n                {meetups?.byId.map(meetup =>\n                    <Grid item xs={12} sm={12} md={4} xl={4} key={meetup?.id}>\n                        <Card className={classes.card} key={meetup?.id} variant=\"outlined\">\n                            <CardActionArea>\n                                <CardContent>\n                                    <Typography gutterBottom variant=\"h5\" component=\"h5\">\n                                        {meetup?.name}\n                                    </Typography>\n                                    <Divider variant=\"middle\" className={classes.divider} />\n                                    <Typography variant=\"overline\" display=\"block\" >\n                                        {t(\"Guests\")} â¢ {meetup?.users.map(u =>\n                                            <>\n                                                <Chip label={u.username} className={classes.chip}\n                                                    color={(u.username === user.username) ? 'primary' : ''} />\n                                            </>\n                                        )}\n                                    </Typography>\n                                    <Typography variant=\"overline\" display=\"block\" >\n                                        {t(\"Attended?\")} â¢ {(meetup?.usersAttended?.find(u => u.username === user.username) != undefined) == true ? \"si\" : \"no\"}\n                                    </Typography>\n                                    <Typography variant=\"overline\" display=\"block\">\n                                        {t(\"People count\")} â¢ {meetup?.countPerson}\n                                    </Typography>\n                                    <Typography variant=\"overline\" display=\"block\">\n                                        {t(\"Where?\")} â¢ {meetup?.city}\n                                    </Typography>\n                                    <Typography variant=\"overline\" display=\"block\">\n                                        {t(\"When?\")} â¢ {meetup?.fecha}\n                                    </Typography>\n                                    <Typography variant=\"overline\" display=\"block\">\n                                        {t(\"Temperature\")} â¢ {meetup?.temp}Â°c\n                                    </Typography>\n                                    {hasRole(user, ['admin']) &&\n                                        <Typography variant=\"overline\" display=\"block\" color=\"secondary\">\n                                            {t(\"Sixpack beer count\")} â¢ {meetup?.countSixPacks}\n                                        </Typography>}\n                                </CardContent>\n                            </CardActionArea>\n                            <CardActions>\n                                {hasRole(user, ['admin']) && <Button size=\"small\" color=\"primary\" onClick={() => deleteMeetup(meetup)}>\n                                    {t(\"Remove\")}\n                                </Button>}\n                                {hasRole(user, ['user']) &&\n                                    <>\n                                        <Button size=\"small\" color=\"primary\"\n                                            onClick={() => subscribeMeetup(meetup.id, user.username)}\n                                            disabled={meetup?.users?.filter(u => u.username == user.username).length > 0}>\n                                            {t(\"Subscribe\")}\n                                        </Button>\n\n                                        <Button size=\"small\" color=\"primary\"\n                                            onClick={() => iWasThereMeetup(meetup.id, user.username)}\n                                            disabled={meetup?.usersAttended?.filter(u => u.username == user.username).length > 0}>\n                                            {t(\"Checkin\")}\n                                        </Button>\n\n                                    </>\n                                }\n                            </CardActions>\n                        </Card>\n                    </Grid>\n                )}\n            </Grid>\n        </Container>\n    </>\n};\n\nconst mapStateToProps = state => ({\n    meetups: getMeetups(state),\n    user: getUser(state)\n});\n\nconst mapDispatchToProps = {\n    deleteMeetup,\n    subscribeMeetup,\n    iWasThereMeetup,\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(MeetupDashboard)","export const THEME = {\n    LIGHT: \"light\",\n    DARK: \"dark\"\n};","// export const getUiSlice = (state) => state.ui;\n// export const getUiSpinner = (state) => getUiSlice(state).requests > 0;\n// export const getTheme = (state) => getUiSlice(state).theme;\n// export const getIsSplitPopUpOpen = (state) => getUiSlice(state).splitPopUp;\n// export const getIsUiBlocked = (state) => getUiSlice(state).blocking > 0;\n\n\n\n\nexport const getUiSlice = (state) => state.ui;\nexport const getUiSpinner = (state) => {\n    return (getUiSlice(state) === undefined) ? 0 : getUiSlice(state).requests > 0;\n}\n\nexport const getTheme = (state) => {\n    return (getUiSlice(state) === undefined) ? \"\" : getUiSlice(state).theme;\n}\n\nexport const getIsUiBlocked = (state) => (getUiSlice(state) == undefined) ? 0 : getUiSlice(state).blocking > 0;\n","import React, { useState } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport AccountCircle from \"@material-ui/icons/AccountCircle\";\nimport { Button, Typography } from '@material-ui/core';\nimport { connect } from 'react-redux';\nimport IconButton from '@material-ui/core/IconButton';\nimport ExitToAppIcon from '@material-ui/icons/ExitToApp';\nimport ListItem from '@material-ui/core/ListItem';\nimport { Menu, MenuItem, ListItemText } from '@material-ui/core';\nimport { useTranslation } from \"react-i18next\";\nimport { THEME } from '../constants/ui';\nimport Switch from '@material-ui/core/Switch';\nimport { logout } from '../actions/usuarios';\nimport { changeTheme } from '../actions/ui';\nimport { getUserName, getUserRol } from '../selectors/usuarios';\nimport { getTheme } from '../selectors/ui';\nimport Tooltip from '@material-ui/core/Tooltip';\nimport Fade from \"@material-ui/core/Fade\";\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n        flexGrow: 1,\n        marginBottom: theme.spacing(2)\n    },\n    menuButton: {\n        marginRight: theme.spacing(2),\n        marginBottom: theme.spacing(2)\n    }, toolbarButtons: {\n        marginLeft: 'auto',\n    },\n    tittle: {\n        minWidth: 200\n    },\n    icon: {\n        margin: theme.spacing(1)\n    }\n}));\n\nconst NavBar = ({ theme, changeTheme, username, rol, logout }) => {\n\n    const classes = useStyles();\n    const { t, i18n } = useTranslation(\"common\");\n\n    const [anchorEl, setAnchorEl] = useState(null);\n\n    const handleChangeTheme = ({ target }) => {\n        const theme = target.checked ? THEME.DARK : THEME.LIGHT;\n        changeTheme(theme);\n    };\n\n    const handleLogout = () => {\n        logout();\n    };\n\n    const handleChangeLanguage = (lang) => () => {\n        i18n.changeLanguage(lang);\n    };\n\n    const handleMenuClick = evt => {\n        setAnchorEl(evt.currentTarget);\n    };\n\n    const handleClose = () => {\n        setAnchorEl(null);\n    }\n\n    return (\n        <>\n            <AppBar position=\"static\" className={classes.root}> \n                <Toolbar>\n                    <Typography variant=\"h6\" color=\"default\" className={classes.tittle} >\n                        {t(\"Challenge meetups\")}\n                    </Typography>\n                    <div className={classes.toolbarButtons}>\n                        <IconButton onClick={handleMenuClick}>\n                            {username}<AccountCircle className={classes.icon} />\n                        </IconButton>\n                        <Menu\n                            anchorEl={anchorEl}\n                            open={Boolean(anchorEl)}\n                            TransitionComponent={Fade}\n                            onClose={handleClose}\n                            anchorOrigin={{\n                                vertical: 'top',\n                                horizontal: 'right',\n                            }}\n                            transformOrigin={{\n                                vertical: 'top',\n                                horizontal: 'right',\n                            }}>\n                            <MenuItem onClick={handleChangeLanguage(\"en\")}>Ingles</MenuItem>\n                            <MenuItem onClick={handleChangeLanguage(\"es\")}>EspaÃ±ol</MenuItem>\n                            <ListItem>\n                                <ListItemText>\n                                    {t(\"Dark mode\")}\n                                </ListItemText>\n                                <Switch\n                                    color=\"primary\"\n                                    checked={theme === THEME.DARK}\n                                    onChange={handleChangeTheme}\n                                />\n                            </ListItem>\n                            <MenuItem onClick={handleLogout}>{t(\"Logout\")}</MenuItem>\n                        </Menu>\n\n                        {/* <Button onClick={handleChangeLanguage(\"en\")}>EN</Button>\n                        <Button onClick={handleChangeLanguage(\"es\")}>ES</Button>\n                        <Switch\n                            checked={theme === THEME.DARK}\n                            onChange={handleChangeTheme}\n                        />\n                        <IconButton onClick={handleLogout} color=\"inherit\">\n                            <ExitToAppIcon />\n                        </IconButton> */}\n                    </div>\n                </Toolbar>\n            </AppBar>\n        </>\n    );\n}\n\nconst mapStateToProps = state => ({\n    theme: getTheme(state),\n    username: getUserName(state),\n    rol: getUserRol(state),\n})\n\nconst mapDispatchToProps = {\n    changeTheme,\n    logout\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(NavBar);","import { FETCH_USUARIOS, LOGIN, LOGIN_FAIL, LOGOUT } from '../constants/actions';\nimport usuarios from '../mocks/resources/usuarios.json';\nimport { createToast } from './toast';\n\nexport const fetchUsuarios = () => {\n    return { type: FETCH_USUARIOS, payload: usuarios }\n};\n\nexport const login = (username) => {\n\n    const user = usuarios?.find(usu => usu.username === username);\n\n    if (user === undefined) {\n        return [{\n            type: LOGIN_FAIL\n        }, createToast('El usuario ingresado no existe')]\n    }\n    else {\n        return {\n            type: LOGIN, payload: user\n        }\n    }\n};\n\nexport const logout = () => ({\n    type: LOGOUT\n});","import React from \"react\";\nimport { Backdrop, CircularProgress, makeStyles } from \"@material-ui/core\";\n\nconst useStyles = makeStyles((theme) => ({\n  backdrop: {\n    zIndex: 9999999999999,\n    color: \"#fff\",\n  },\n}));\n\nconst BlockScreen = ({ isBlocked }) => {\n  const classes = useStyles();\n  return (\n    <Backdrop className={classes.backdrop} open={isBlocked}>\n      <CircularProgress color=\"inherit\" />\n    </Backdrop>\n  );\n};\n\nexport default BlockScreen;","const getToastsSlice = state => state.toast;\n\nexport const getToastMessage = state => {\n    const msgs = getToastsSlice(state)?.messages == undefined ? [] : getToastsSlice(state)?.messages;\n    if (msgs.length) {\n        return msgs[0];\n    }\n    return null;\n};","import React, { useEffect, useState } from \"react\";\nimport { Snackbar } from \"@material-ui/core\";\nimport { connect } from \"react-redux\";\nimport { getToastMessage } from '../../../app/selectors/toast';\nimport { deleteToast } from '../../../app/actions/toast';\n\nconst Toaster = ({ message, deleteToast }) => {\n    const [isOpen, setIsOpen] = useState(true);\n    \n    const handleClose = () => {\n        setIsOpen(false);\n    };\n\n    useEffect(() => {\n            setIsOpen(true);\n    }, [message]);\n\n    return message &&\n        <Snackbar\n            key={message.id}\n            message={message.message}\n            open={isOpen}\n            onClose={handleClose}\n            anchorOrigin={{ vertical: \"bottom\", horizontal: \"left\" }}\n            autoHideDuration={message.timeout}\n            onExited={() => deleteToast(message.id)}\n        />;\n}\n\nconst mapStateToProps = state => ({\n    message: getToastMessage(state)\n});\n\nconst mapDispatchToProps = {\n    deleteToast\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Toaster);","import React, { useState } from 'react';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport Button from '@material-ui/core/Button';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport LockOutlinedIcon from '@material-ui/icons/LockOutlined';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Container from '@material-ui/core/Container';\r\nimport { connect } from 'react-redux';\r\nimport { login } from \"../../../app/actions/usuarios\";\r\nimport { useTranslation } from 'react-i18next';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    paper: {\r\n        marginTop: theme.spacing(8),\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        alignItems: 'center',\r\n    },\r\n    avatar: {\r\n        margin: theme.spacing(1),\r\n        backgroundColor: theme.palette.secondary.main,\r\n    },\r\n    form: {\r\n        width: '100%', // Fix IE 11 issue.\r\n        marginTop: theme.spacing(1),\r\n    },\r\n    submit: {\r\n        margin: theme.spacing(3, 0),\r\n    },\r\n    backdrop: {\r\n        zIndex: theme.zIndex.drawer + 1\r\n    }\r\n}));\r\n\r\nconst Login = ({ login }) => {\r\n    \r\n    const classes = useStyles();\r\n\r\n    const [user, setUser] = useState({ username: \"\" });\r\n    const [errors, setErrors] = useState({ username: \"\" });\r\n\r\n    const handleChange = evt => {\r\n        const { name, value } = evt.target;\r\n        setUser(user => ({ ...user, [name]: value }));\r\n    };\r\n\r\n    const handleLoginButton = event => {\r\n        loginUser();\r\n    };\r\n\r\n    const handleKeyDown = event => {\r\n        if (event.key === 'Enter') {\r\n            loginUser();\r\n        }\r\n    };\r\n\r\n    const validate = () => {\r\n\r\n        const validation = {};\r\n        if (user.username === \"\") {\r\n            validation.username = \"Requerido\";\r\n        }\r\n\r\n        return validation\r\n    }\r\n\r\n    const loginUser = () => {\r\n\r\n        let validation = validate();\r\n\r\n        if (Object.keys(validation).length === 0) {\r\n            login(user.username);\r\n        }\r\n        setErrors(validation);\r\n    }\r\n\r\n    return (\r\n        <Container component=\"main\" maxWidth=\"xs\">\r\n            <div className={classes.paper}>\r\n                <Avatar className={classes.avatar}>\r\n                    <LockOutlinedIcon />\r\n                </Avatar>\r\n                <Typography variant=\"h4\">\r\n                    meetup challenge\r\n                </Typography>\r\n                <Typography variant=\"h6\">\r\n                    by nacho almiron\r\n                </Typography>\r\n                <form className={classes.form} noValidate onSubmit={e => { e.preventDefault(); }}>\r\n                    <TextField\r\n                        variant=\"outlined\"\r\n                        margin=\"normal\"\r\n                        fullWidth\r\n                        id=\"email\"\r\n                        label=\"Usuario\"\r\n                        name=\"username\"\r\n                        autoFocus\r\n                        value={user.username}\r\n                        onChange={handleChange}\r\n                        error={Boolean(errors.username)}\r\n                        helperText={errors.username}\r\n                        onKeyDown={handleKeyDown}\r\n                        autoFocus\r\n                    />\r\n                    <Button\r\n                        fullWidth\r\n                        variant=\"contained\"\r\n                        color=\"primary\"\r\n                        className={classes.submit}\r\n                        onClick={handleLoginButton}\r\n                    >\r\n                        Ingresar\r\n                    </Button>\r\n                </form>\r\n            </div>\r\n        </Container>\r\n    );\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n});\r\n\r\nconst mapDispatchToProps = {\r\n    login\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Login);","import React from 'react';\r\nimport { createPortal } from 'react-dom';\r\nimport LinearProgress from '@material-ui/core/LinearProgress';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\n\r\nconst element = document.createElement(\"div\");\r\ndocument.body.appendChild(element);\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    root: {\r\n        position: \"fixed\",\r\n        top: 0, \r\n        left: 0,\r\n        width: \"100%\"\r\n    }\r\n}));\r\n\r\nexport default () => {\r\n    const classes = useStyles();\r\n\r\n    return createPortal(\r\n        (\r\n            <div className={classes.root}>\r\n                <LinearProgress />\r\n            </div>\r\n        ),\r\n    element);\r\n}\r\n\r\n","\nimport './App.css';\nimport { connect } from 'react-redux';\nimport MeetupDashboard from './app/component/MeetupDashboard';\nimport NavBar from './app/component/NavBar';\nimport BlockScreen from './app/component/BlockScreen';\nimport Toaster from './app/component/Toaster';\nimport Login from './app/component/Login';\nimport React, { useEffect, Suspense, lazy } from \"react\";\nimport { getIsLoggedIn } from './app/selectors/usuarios';\nimport { getIsUiBlocked } from './app/selectors/ui';\nimport { mountedApp } from './app/actions/app';\nimport LoadingPageIndicator from \"./app/component/LoadingPageIndicator\";\n\nconst App = ({ isLoggedIn, isBlocked, mountedApp }) => {\n\n  useEffect(() => {\n    mountedApp();\n  }, []);\n\n  return (\n    <div>\n      {\n        isLoggedIn ?\n          <>\n            <NavBar />\n            <Suspense fallback={<LoadingPageIndicator />}>\n              <MeetupDashboard />\n              <BlockScreen isBlocked={isBlocked} />\n            </Suspense>\n          </>\n          :\n          <Login />\n      }\n      <Toaster />\n    </div>\n  );\n};\n\nconst mapStateToProps = state => ({\n  isLoggedIn: getIsLoggedIn(state),\n  isBlocked: getIsUiBlocked(state)\n});\n\nconst mapDispatchToProps = {\n  mountedApp,\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(App);","import { APP_COMPONENT } from '../constants/actions';\nimport { fetchUsuarios } from './usuarios';\nimport { fetchCities } from './cities';\n\nexport const mountedApp = () => {\n    return [\n        { type: APP_COMPONENT.MOUNTED },\n        fetchUsuarios(),\n        fetchCities(),\n    ]\n};\n","\r\nimport { FETCH_CITIES } from '../constants/actions';\r\nimport cities from '../mocks/resources/cities.json';\r\n\r\nexport const fetchCities = () => {\r\n    return { type: FETCH_CITIES, payload: cities }\r\n};","import { API, CHANGE_THEME, UI } from '../constants/actions';\nimport { THEME } from '../constants/ui';\n\nconst initialState = {\n  requests: 0,\n  blocking: 0,\n  theme: THEME.LIGHT,\n};\n\nexport default (state = initialState, action) => {\n  switch (action.type) {\n\n    case API.DONE:\n      return { ...state, requests: state.requests - 1 };\n\n    case API.START:\n      return { ...state, requests: state.requests + 1 };\n      \n    case API.ERROR:\n      return { ...state, requests: state.requests - 1 };\n\n    case CHANGE_THEME:\n      const { theme } = action.payload;\n      return { ...state, theme };\n\n    case UI.BLOCK:\n      return { ...state, blocking: state.blocking + 1 };\n\n    case UI.UNBLOCK:\n      return { ...state, blocking: state.blocking - 1 };\n\n    default:\n      return state;\n  }\n  \n};\n\n","import { TOAST } from '../../app/constants/actions';\n\nlet _id = 0;\n\nconst initialState = {\n    messages: []\n};\n\nconst toastsReducer = (state = initialState, action = {}) => {\n\n    switch (action.type) {\n        case TOAST.CREATE:\n            return {\n                messages: [\n                    ...state.messages,\n                    { id: _id++, ...action.payload }\n                ]\n            };\n        case TOAST.DELETE:\n            const id = action.payload;\n            return {\n                messages: state.messages.filter(m => m.id !== id)\n            };\n        default:\n            return state;\n    }\n};\n\nexport default toastsReducer;","import {\n    ADD_MEETUP,\n    DELETE_MEETUP,\n    SUBSCRIBE_MEETUP,\n    IWAS_THERE_MEETUP,\n    LOAD_MEETUPS\n} from '../constants/actions';\n\nconst initialState = {\n    byId: []\n};\n\nconst meetup = (state = initialState, action) => {\n\n    switch (action.type) {\n\n        case ADD_MEETUP: {\n\n            const meetup = action.payload;\n            const newById = state.byId;\n            const index = newById.findIndex((e) => e.id === meetup.id);\n\n            if (index === -1) {\n                meetup.id = Date.now();\n                newById.push(meetup);\n            } else {\n                newById[index] = meetup;\n            }\n\n            return {\n                ...state,\n                byId: newById\n            }\n        }\n\n        case DELETE_MEETUP: {\n\n            const meetupId = action.payload.meetup.id;\n            const meetups = state.byId.filter(meetup => meetup.id != meetupId);\n\n            return {\n                ...state,\n                byId: meetups\n            };\n        }\n\n        case SUBSCRIBE_MEETUP: {\n\n            const newById = state.byId;\n            const meetupId = action.payload.meetupId\n            const username = action.payload.username;\n\n            const m = newById.find(meetup => meetup.id == meetupId);\n            const index = m.users?.findIndex(user => user.username === username);\n\n            if (index === -1) {\n                newById.find(meetup => meetup.id === meetupId).users?.push({ username: username });\n            } else {\n\n            }\n\n            return {\n                ...state,\n                byId: newById,\n            };\n\n        }\n\n        case IWAS_THERE_MEETUP: {\n\n            const newById = state.byId;\n            const meetupId = action.payload.meetupId\n            const username = action.payload.username;\n\n            const m = newById.find(meetup => meetup.id === meetupId);\n\n            if (m !== undefined) {\n                const index = m.usersAttended?.findIndex(user => user.username === username);\n\n                if (index === -1) {\n                    newById.find(meetup => meetup.id === meetupId).usersAttended?.push({ username: username });\n                } else {\n\n                }\n            }\n\n            return {\n                ...state,\n                byId: newById,\n            };\n\n        }\n        case LOAD_MEETUPS: {\n            const meetups = action.payload;\n            return { byId: meetups }\n        }\n        default: { return state; }\n    }\n};\n\nexport default meetup;","import { FETCH_USUARIOS, LOGIN, LOGIN_FAIL, LOGOUT } from '../constants/actions';\n\nconst initialState = {\n    byId: [],\n    isFetching: false,\n    username: \"\",\n    token: \"\",\n    roles: [],\n    rights: [],\n    isLoggingIn: false\n};\n\nconst usuarios = (state = initialState, action) => {\n\n    switch (action.type) {\n        case FETCH_USUARIOS: {\n            const usuarios = action.payload;\n            return { ...state, byId: usuarios, isFetching: true }\n        }\n        case LOGIN: {\n            const user = action.payload;\n            return { \n                ...state, \n                username: user.username, \n                roles: user.roles, \n                rights: user.rights, \n                isLoggingIn: true };\n        }\n        case LOGIN_FAIL: {\n            return { ...state, username: \"\", isLoggingIn: false };\n        }\n        case LOGOUT:\n            return { ...state, username: \"\", isLoggingIn: false };\n        default: { return state; }\n    }\n};\n\nexport default usuarios;","import { GET_WEATHER } from \"../constants/actions\";\r\n\r\nconst initialState = {\r\n\r\n};\r\n\r\nconst weather = (state = initialState, action) => {\r\n\r\n    switch (action.type) {\r\n\r\n        case GET_WEATHER.SUCCESS: {\r\n            const weather = action.payload;\r\n\r\n            weather.id = Date.now();\r\n            weather.name = action.meta.name;\r\n\r\n            return weather;\r\n        }\r\n\r\n        default: { return state; }\r\n    }\r\n};\r\n\r\nexport default weather;","import { FETCH_CITIES } from '../constants/actions';\n\nconst initialState = {\n    byId: [],\n    isFetching: false\n};\n\nconst cities = (state = initialState, action) => {\n\n    switch (action.type) {\n        case FETCH_CITIES: {\n            const cities = action.payload;\n            return { ...state, byId: cities, isFetching: true }\n        }\n        default: { return state; }\n    }\n};\n\nexport default cities;","import { combineReducers } from \"redux\";\nimport uiReducer from './ui';\nimport toastsReducer from './toast';\nimport meetupReducer from './meetup';\nimport usuarioReducer from './usuarios';\nimport weatherReducer from './weather';\nimport citiesReducer from './cities';\n\n\nconst rootReducer = combineReducers({\n    usuarios: usuarioReducer,\n    ui: uiReducer,\n    toast: toastsReducer,\n    meetup: meetupReducer,\n    weather: weatherReducer,\n    cities: citiesReducer\n});\n\nexport default rootReducer;","import apiMdl from './core/api';\nimport multiMdl from './core/multi';\n\nconst err = () => (next) => (action) => {\n    try {\n        next(action);\n    } catch (err) {\n        console.log(err);\n    }\n};\n\nexport default [\n    err,\n    multiMdl,\n    apiMdl\n];","const multiMdl = ({ dispatch }) => next => action => {\n    if (Array.isArray(action)) {\n        action.forEach(i => {\n            if (typeof (i) === \"function\")\n                dispatch(i());\n            else if (i?.type)\n                dispatch(i)\n        });\n    } else {\n        next(action);\n    }\n}\n\nexport default multiMdl;","\nimport { API_URL } from \"../../constants/api\";\nimport { API } from \"../../constants/actions\";\n\nconst apiMdl = ({ dispatch }) => next => action => {\n\n    next(action);\n\n    if (action.type === API.START) {\n\n        const { url, method, data, success, pending, error } = action.payload;\n        const meta = action.meta.api || {};\n\n        if (pending) {\n            const actions = [];\n            const pendingActions = Array.isArray(pending) ? pending : [pending];\n            pendingActions.forEach(pending => {\n                if (typeof pending === \"string\") {\n                    actions.push({\n                        type: pending,\n                    });\n                } else {\n                    actions.push(pending);\n                }\n            });\n\n            dispatch(actions);\n        }\n\n        const options = {\n            method,\n            headers: {\n                \"Content-Type\": \"application/json\"\n            },\n            body: JSON.stringify(data)\n        };\n\n        fetch(url, options)\n            .then(response => response.json())\n            .then(data => {\n                const actions = [\n                    { type: API.DONE, meta: { url } }\n                ];\n\n                const successActions = Array.isArray(success) ? success : [success];\n                successActions.forEach(success => {\n                    if (typeof success === \"string\") {\n                        actions.push({\n                            type: success,\n                            payload: data,\n                            meta: {\n                                ...meta,\n                                time: Date.now()\n                            }\n                        })\n                    } else {\n                        actions.push(success);\n                    }\n                });\n\n                dispatch(actions);\n            })\n            .catch(err => {\n                const actions = [{ type: API.ERROR, payload: JSON.stringify(err) }];\n                const errorActions = Array.isArray(error) ? error : [error];\n                errorActions.forEach(error => {\n                    if (typeof error === \"string\") {\n                        actions.push({ type: error });\n                    } else if (typeof error === \"object\") {\n                        actions.push(error);\n                    }\n                });\n\n                dispatch(actions);\n            });\n    }\n}\n\nexport default apiMdl;\n","import { createStore, applyMiddleware, compose } from 'redux';\nimport reducers from './reducers/root';\nimport middleware from './middleware';\n\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\nexport default createStore(\n    reducers,\n    composeEnhancers(applyMiddleware(...middleware)));","import { createMuiTheme } from '@material-ui/core/styles';\r\nimport blue from \"@material-ui/core/colors/blue\";\r\nimport purple from '@material-ui/core/colors/purple';\r\nimport red from '@material-ui/core/colors/red';\r\nimport lightBlue from '@material-ui/core/colors/lightBlue';\r\n\r\n\r\nconst themeGenerator = theme => createMuiTheme({ \r\n    palette: {\r\n        primary: lightBlue,\r\n        type: theme,\r\n    },\r\n    overrides: {\r\n        MuiCssBaseline: {\r\n            \"@global\": {\r\n                p: {\r\n                    color: \"black\"\r\n                },\r\n                \".capitalize\": {\r\n                    textTransform: \"capitalize\"\r\n                }\r\n            }\r\n        }\r\n    }\r\n});\r\n\r\nexport default themeGenerator;\r\n","import i18n from 'i18next';\r\nimport { initReactI18next } from 'react-i18next';\r\nimport httpBackend from 'i18next-http-backend';\r\n\r\nconst backendOptions = {\r\n    loadPath: '/locales/{{lng}}/{{ns}}.json'\r\n}\r\n\r\ni18n\r\n    .use(initReactI18next) // passes i18n down to react-i18next\r\n    .use(httpBackend)\r\n    .init({\r\n        ns: [\r\n            \"common\"\r\n        ],\r\n        defaultNS: \"common\",\r\n        lng: \"es\",\r\n        backend: backendOptions,\r\n        interpolation: {\r\n            escapeValue: false // react already safes from xss\r\n        }\r\n    });\r\n\r\nexport default i18n;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nimport { connect, Provider } from 'react-redux';\nimport store from './app/store';\nimport { ThemeProvider } from '@material-ui/core/styles';\nimport { getTheme } from './app/selectors/ui';\nimport themeGenerator from './app/theme';\nimport { CssBaseline } from '@material-ui/core';\nimport DateFnsUtils from '@date-io/date-fns';\nimport { MuiPickersUtilsProvider } from '@material-ui/pickers';\nimport { I18nextProvider } from 'react-i18next';\nimport i18n from './i18n';\n\n// import * as serviceWorker from './app/serviceWorker';\n//import { Router } from \"react-router-dom\";\n\n// if (process.env.NODE_ENV === 'development') {\n//   const { worker } = require('./app/mocks/browser');\n//   worker.start();\n// }\n\nconst mapStateToProps = state => ({ theme: getTheme(state) });\n\nconst ThemedApp = connect(mapStateToProps)(({ theme }) => {\n  const generatedTheme = themeGenerator(theme);\n  return (\n    <I18nextProvider i18n={i18n}>\n      <ThemeProvider theme={generatedTheme}>\n        <MuiPickersUtilsProvider utils={DateFnsUtils}>\n          <CssBaseline />\n          <App />\n        </MuiPickersUtilsProvider>\n      </ThemeProvider>\n    </I18nextProvider>\n  );\n});\n\nReactDOM.render(\n  <Provider store={store}>\n    <ThemedApp />\n  </Provider>,\n  document.getElementById('root')\n);\n\n//serviceWorker.unregister();"],"sourceRoot":""}